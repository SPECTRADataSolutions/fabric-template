[pytest]
# SPECTRA Zephyr Test Configuration

# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Output configuration
addopts = 
    -v
    --strict-markers
    --tb=short
    --cov=spectraSDK.Notebook
    --cov=sourceZephyr.Notebook
    --cov-report=term-missing
    --cov-report=html:tests/coverage
    --cov-report=json:tests/coverage.json
    --cov-fail-under=75

# Markers
markers =
    unit: Unit tests for individual functions
    integration: Integration tests with mocked APIs
    slow: Tests that take >1 second
    api: Tests that mock API calls
    validation: Data validation tests
    error_handling: Error handling and retry tests

# Test timeouts
timeout = 30

# Logging
log_cli = false
log_cli_level = INFO
log_file = tests/test_run.log
log_file_level = DEBUG

# Coverage
[coverage:run]
source = .
omit = 
    tests/*
    */site-packages/*
    */__pycache__/*

[coverage:report]
precision = 2
show_missing = true
skip_covered = false
